# 数据结构代码实现笔记



## 2021.8.3

调试昨天写的双链表的代码。

### Q1：

*ShowAllValue()*无法跟踪到头结点的下一个节点

调试过程：

初始化双链表后各节点地址如下：

L:0x00000001005040e0->next:0x00000001005042f0->0x0000000100604080

找到错误原因在于：

```
void main(){
    DLinklist L;
    InitDLinklist(L);
    ShowAllValue(L);
}
```

第三行必须把函数返回值赋值给L：`L = InitDLinklist(L);`

### Q2：

L在main中是指针，传入函数InitDLinklist的也是指针，为什么还需要再次赋值呢？

解答：在InitDLinklist中L = (DLinklist)malloc(sizeof(DNode));重新给L分配了地址

### Q3:

如果不在InitDLinklist中给L用malloc分配内存，在后面给L的前后指针赋值为NULL会出现异常EXC_BAD_ACCESS (code=2, address=0x10001102d)，**反之，如果分配内存之后，则可以指向NULL**

解答：个人认为已分配地址的指针无法再赋值为NULL

malloc给L分配内存默认L中的*prior和\*next为NULL **错误！！！**

并不会，所以依旧要对两个指针指向NULL

